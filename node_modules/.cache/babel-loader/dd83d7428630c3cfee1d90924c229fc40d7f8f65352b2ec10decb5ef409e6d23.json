{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\josep\\\\Documents\\\\Sistema de Encuestas por Voz\\\\client\\\\src\\\\pages\\\\SurveyDetail.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { Bar, Pie } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement, Title } from 'chart.js';\nimport { auth } from '../utils/firebase';\nimport { SurveyService } from '../services/apiService';\n\n// Register Chart.js components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement, Title);\nconst SurveyDetail = () => {\n  _s();\n  const {\n    surveyId\n  } = useParams();\n  const navigate = useNavigate();\n  const [survey, setSurvey] = useState(null);\n  const [responses, setResponses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState('results');\n  const user = auth.currentUser;\n  useEffect(() => {\n    const fetchSurvey = async () => {\n      if (!surveyId) return;\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Usar el servicio centralizado para obtener la encuesta\n        const data = await SurveyService.getSurvey(surveyId);\n        if (data) {\n          setSurvey(data);\n          setResponses(data.responses || []);\n        } else {\n          setError('No se pudo cargar la encuesta');\n        }\n        setLoading(false);\n      } catch (error) {\n        console.error('Error al cargar la encuesta:', error);\n        setError('Error al cargar la encuesta: ' + (error.message || 'Error desconocido'));\n        setLoading(false);\n      }\n    };\n    fetchSurvey();\n  }, [surveyId]);\n\n  // Format date in a readable format\n  const formatDate = dateString => {\n    const options = {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    };\n    return new Date(dateString).toLocaleDateString('es-ES', options);\n  };\n\n  // Prepare chart data for ratings\n  const prepareRatingChartData = questionResponses => {\n    if (!questionResponses || questionResponses.length === 0) {\n      // Datos por defecto si no hay respuestas\n      return {\n        labels: ['1 ', '2 ', '3 ', '4 ', '5 '],\n        datasets: [{\n          label: 'Número de Respuestas',\n          data: [0, 0, 0, 0, 0],\n          backgroundColor: ['rgba(255, 99, 132, 0.6)', 'rgba(255, 159, 64, 0.6)', 'rgba(255, 205, 86, 0.6)', 'rgba(75, 192, 192, 0.6)', 'rgba(54, 162, 235, 0.6)']\n        }]\n      };\n    }\n\n    // Contar respuestas para cada valor\n    const counts = {\n      '1': 0,\n      '2': 0,\n      '3': 0,\n      '4': 0,\n      '5': 0\n    };\n    questionResponses.forEach(response => {\n      const value = response.value;\n      if (value >= 1 && value <= 5) {\n        counts[value.toString()] = (counts[value.toString()] || 0) + 1;\n      }\n    });\n    return {\n      labels: ['1 ', '2 ', '3 ', '4 ', '5 '],\n      datasets: [{\n        label: 'Número de Respuestas',\n        data: [counts['1'], counts['2'], counts['3'], counts['4'], counts['5']],\n        backgroundColor: ['rgba(255, 99, 132, 0.6)', 'rgba(255, 159, 64, 0.6)', 'rgba(255, 205, 86, 0.6)', 'rgba(75, 192, 192, 0.6)', 'rgba(54, 162, 235, 0.6)']\n      }]\n    };\n  };\n\n  // Prepare chart data for yes/no questions\n  const prepareYesNoChartData = questionResponses => {\n    if (!questionResponses || questionResponses.length === 0) {\n      // Datos por defecto si no hay respuestas\n      return {\n        labels: ['Sí', 'No'],\n        datasets: [{\n          data: [0, 0],\n          backgroundColor: ['rgba(75, 192, 192, 0.6)', 'rgba(255, 99, 132, 0.6)']\n        }]\n      };\n    }\n\n    // Contar respuestas para Sí y No\n    let yesCount = 0;\n    let noCount = 0;\n    questionResponses.forEach(response => {\n      const value = response.value.toLowerCase();\n      if (value === 'sí' || value === 'si' || value === 'yes') {\n        yesCount++;\n      } else if (value === 'no') {\n        noCount++;\n      }\n    });\n    return {\n      labels: ['Sí', 'No'],\n      datasets: [{\n        data: [yesCount, noCount],\n        backgroundColor: ['rgba(75, 192, 192, 0.6)', 'rgba(255, 99, 132, 0.6)']\n      }]\n    };\n  };\n\n  // Get question responses\n  const getQuestionResponses = questionId => {\n    // Verificar que responses es un array\n    if (!Array.isArray(responses)) {\n      console.warn('responses no es un array:', responses);\n      return [];\n    }\n\n    // Filtramos las respuestas que corresponden a esta pregunta\n    return responses.filter(response => response && response.answers).flatMap(response => {\n      try {\n        const answer = response.answers.find(a => a && a.questionId === questionId);\n        return answer ? [{\n          value: answer.value\n        }] : [];\n      } catch (error) {\n        console.error('Error procesando respuesta:', error, response);\n        return [];\n      }\n    });\n  };\n\n  // Eliminar encuesta\n  const handleDelete = async () => {\n    if (!window.confirm('¿Está seguro que desea eliminar esta encuesta? Esta acción no se puede deshacer.')) {\n      return;\n    }\n    try {\n      setLoading(true);\n\n      // Usar el servicio centralizado para eliminar la encuesta\n      await SurveyService.deleteSurvey(surveyId);\n      navigate('/dashboard');\n    } catch (error) {\n      console.error('Error al eliminar la encuesta:', error);\n      setError('Error al eliminar la encuesta: ' + (error.message || 'Error desconocido'));\n      setLoading(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"animate-spin h-10 w-10 text-primary-500 mx-auto\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        fill: \"none\",\n        viewBox: \"0 0 24 24\",\n        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n          className: \"opacity-25\",\n          cx: \"12\",\n          cy: \"12\",\n          r: \"10\",\n          stroke: \"currentColor\",\n          strokeWidth: \"4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          className: \"opacity-75\",\n          fill: \"currentColor\",\n          d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: \"h-16 w-16 text-red-500 mx-auto mb-4\",\n        fill: \"none\",\n        viewBox: \"0 0 24 24\",\n        stroke: \"currentColor\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-800 mb-2\",\n        children: error || 'Error'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-4\",\n        children: \"No se pudo cargar la informaci\\xF3n de la encuesta.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/dashboard'),\n        className: \"btn btn-primary\",\n        children: \"Volver al Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this);\n  }\n  if (!survey) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: \"h-16 w-16 text-gray-400 mx-auto mb-4\",\n        fill: \"none\",\n        viewBox: \"0 0 24 24\",\n        stroke: \"currentColor\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: \"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-800 mb-2\",\n        children: \"Encuesta no encontrada\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-4\",\n        children: \"La encuesta que est\\xE1s buscando no existe o ha sido eliminada.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/dashboard'),\n        className: \"btn btn-primary\",\n        children: \"Volver al Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row justify-between items-start mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold\",\n          children: survey.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: [\"Creada: \", formatDate(survey.createdAt)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 md:mt-0 flex space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/take-survey/${survey._id}`,\n          className: \"btn btn-primary\",\n          target: \"_blank\",\n          children: \"Ver Encuesta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDelete,\n          className: \"btn btn-danger\",\n          children: \"Eliminar Encuesta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5 mr-1\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), \"Compartir\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap border-b\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `px-4 py-2 ${activeTab === 'results' ? 'border-b-2 border-primary-500 text-primary-600 font-medium' : 'text-gray-600'}`,\n          onClick: () => setActiveTab('results'),\n          children: \"Resultados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `px-4 py-2 ${activeTab === 'overview' ? 'border-b-2 border-primary-500 text-primary-600 font-medium' : 'text-gray-600'}`,\n          onClick: () => setActiveTab('overview'),\n          children: \"Informaci\\xF3n General\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4\",\n        children: [activeTab === 'overview' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-medium mb-4\",\n            children: \"Informaci\\xF3n de la Encuesta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-medium text-gray-700 mb-2\",\n                children: \"Descripci\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: survey.description || 'Sin descripción'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-medium text-gray-700\",\n                  children: \"Mensaje de Bienvenida\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600\",\n                  children: survey.welcomeMessage || 'Sin mensaje de bienvenida'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-medium text-gray-700\",\n                  children: \"Mensaje de Despedida\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600\",\n                  children: survey.farewell || 'Sin mensaje de despedida'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium text-gray-700 mb-2\",\n              children: \"Configuraci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-3 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-500 text-sm\",\n                  children: \"Estado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `font-medium ${survey.isActive ? 'text-green-600' : 'text-red-600'}`,\n                  children: survey.isActive ? 'Activa' : 'Inactiva'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-3 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-500 text-sm\",\n                  children: \"Acceso\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: survey.isPublic ? 'Pública' : 'Privada'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-3 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-500 text-sm\",\n                  children: \"Respuestas An\\xF3nimas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: survey.allowAnonymous ? 'Permitidas' : 'No permitidas'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-3 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-500 text-sm\",\n                  children: \"Visitas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: survey.viewsCount || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this), activeTab === 'results' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-medium\",\n              children: \"Resultados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-600\",\n              children: [\"Total de respuestas: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: responses.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 40\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this), responses.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8 bg-gray-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-12 w-12 text-gray-400 mx-auto mb-4\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 mb-4\",\n              children: \"Todav\\xEDa no hay respuestas para esta encuesta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/take-survey/${survey._id}`,\n                className: \"btn btn-primary\",\n                target: \"_blank\",\n                children: \"Tomar la Encuesta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-8\",\n            children: survey.questions.map((question, index) => {\n              const questionResponses = getQuestionResponses(question._id);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card p-4 border border-gray-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [\"Pregunta \", index + 1]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 355,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-lg font-medium\",\n                      children: question.text\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"badge badge-primary\",\n                    children: [questionResponses.length, \" respuestas\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-4\",\n                  children: [question.type === 'rating' && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-64\",\n                    children: /*#__PURE__*/_jsxDEV(Bar, {\n                      data: prepareRatingChartData(questionResponses),\n                      options: {\n                        responsive: true,\n                        maintainAspectRatio: false,\n                        scales: {\n                          y: {\n                            beginAtZero: true,\n                            ticks: {\n                              precision: 0\n                            }\n                          }\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 29\n                  }, this), question.type === 'yesno' && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-64 w-64 mx-auto\",\n                    children: /*#__PURE__*/_jsxDEV(Pie, {\n                      data: prepareYesNoChartData(questionResponses),\n                      options: {\n                        responsive: true,\n                        maintainAspectRatio: false\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 29\n                  }, this), question.type === 'open' && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"max-h-64 overflow-y-auto\",\n                    children: questionResponses.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"space-y-2\",\n                      children: questionResponses.map((response, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                        className: \"bg-gray-50 p-3 rounded\",\n                        children: [\"\\\"\", response.value, \"\\\"\"]\n                      }, idx, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 401,\n                        columnNumber: 37\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 399,\n                      columnNumber: 33\n                    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-500 italic text-center\",\n                      children: \"No hay respuestas para esta pregunta\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 29\n                  }, this), question.type === 'single' && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-64\",\n                    children: /*#__PURE__*/_jsxDEV(Bar, {\n                      data: {\n                        labels: question.options,\n                        datasets: [{\n                          label: 'Respuestas',\n                          data: question.options.map(option => {\n                            return questionResponses.filter(r => r.value === option).length;\n                          }),\n                          backgroundColor: 'rgba(54, 162, 235, 0.6)'\n                        }]\n                      },\n                      options: {\n                        responsive: true,\n                        maintainAspectRatio: false,\n                        scales: {\n                          y: {\n                            beginAtZero: true,\n                            ticks: {\n                              precision: 0\n                            }\n                          }\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 414,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 413,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 25\n                }, this)]\n              }, question._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this);\n};\n_s(SurveyDetail, \"fClSgK5ZrBTQ0GN/mHYlV4tPFzM=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = SurveyDetail;\nexport default SurveyDetail;\nvar _c;\n$RefreshReg$(_c, \"SurveyDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","Bar","Pie","Chart","ChartJS","ArcElement","Tooltip","Legend","CategoryScale","LinearScale","BarElement","Title","auth","SurveyService","jsxDEV","_jsxDEV","register","SurveyDetail","_s","surveyId","navigate","survey","setSurvey","responses","setResponses","loading","setLoading","error","setError","activeTab","setActiveTab","user","currentUser","fetchSurvey","data","getSurvey","console","message","formatDate","dateString","options","year","month","day","Date","toLocaleDateString","prepareRatingChartData","questionResponses","length","labels","datasets","label","backgroundColor","counts","forEach","response","value","toString","prepareYesNoChartData","yesCount","noCount","toLowerCase","getQuestionResponses","questionId","Array","isArray","warn","filter","answers","flatMap","answer","find","a","handleDelete","window","confirm","deleteSurvey","className","children","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","d","strokeLinecap","strokeLinejoin","onClick","title","createdAt","to","_id","target","description","welcomeMessage","farewell","isActive","isPublic","allowAnonymous","viewsCount","questions","map","question","index","text","type","responsive","maintainAspectRatio","scales","y","beginAtZero","ticks","precision","idx","option","_c","$RefreshReg$"],"sources":["C:/Users/josep/Documents/Sistema de Encuestas por Voz/client/src/pages/SurveyDetail.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { Bar, Pie } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement, Title } from 'chart.js';\nimport { auth } from '../utils/firebase';\nimport { SurveyService } from '../services/apiService';\n\n// Register Chart.js components\nChartJS.register(ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement, Title);\n\nconst SurveyDetail = () => {\n  const { surveyId } = useParams();\n  const navigate = useNavigate();\n  const [survey, setSurvey] = useState(null);\n  const [responses, setResponses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState('results');\n  const user = auth.currentUser;\n\n  useEffect(() => {\n    const fetchSurvey = async () => {\n      if (!surveyId) return;\n      \n      try {\n        setLoading(true);\n        setError(null);\n        \n        // Usar el servicio centralizado para obtener la encuesta\n        const data = await SurveyService.getSurvey(surveyId);\n        \n        if (data) {\n          setSurvey(data);\n          setResponses(data.responses || []);\n        } else {\n          setError('No se pudo cargar la encuesta');\n        }\n        \n        setLoading(false);\n      } catch (error) {\n        console.error('Error al cargar la encuesta:', error);\n        setError('Error al cargar la encuesta: ' + (error.message || 'Error desconocido'));\n        setLoading(false);\n      }\n    };\n\n    fetchSurvey();\n  }, [surveyId]);\n\n  // Format date in a readable format\n  const formatDate = (dateString) => {\n    const options = { year: 'numeric', month: 'long', day: 'numeric' };\n    return new Date(dateString).toLocaleDateString('es-ES', options);\n  };\n\n  // Prepare chart data for ratings\n  const prepareRatingChartData = (questionResponses) => {\n    if (!questionResponses || questionResponses.length === 0) {\n      // Datos por defecto si no hay respuestas\n      return {\n        labels: ['1 ', '2 ', '3 ', '4 ', '5 '],\n        datasets: [{\n          label: 'Número de Respuestas',\n          data: [0, 0, 0, 0, 0],\n          backgroundColor: [\n            'rgba(255, 99, 132, 0.6)',\n            'rgba(255, 159, 64, 0.6)',\n            'rgba(255, 205, 86, 0.6)',\n            'rgba(75, 192, 192, 0.6)',\n            'rgba(54, 162, 235, 0.6)'\n          ]\n        }]\n      };\n    }\n    \n    // Contar respuestas para cada valor\n    const counts = {\n      '1': 0, '2': 0, '3': 0, '4': 0, '5': 0\n    };\n    \n    questionResponses.forEach(response => {\n      const value = response.value;\n      if (value >= 1 && value <= 5) {\n        counts[value.toString()] = (counts[value.toString()] || 0) + 1;\n      }\n    });\n    \n    return {\n      labels: ['1 ', '2 ', '3 ', '4 ', '5 '],\n      datasets: [{\n        label: 'Número de Respuestas',\n        data: [counts['1'], counts['2'], counts['3'], counts['4'], counts['5']],\n        backgroundColor: [\n          'rgba(255, 99, 132, 0.6)',\n          'rgba(255, 159, 64, 0.6)',\n          'rgba(255, 205, 86, 0.6)',\n          'rgba(75, 192, 192, 0.6)',\n          'rgba(54, 162, 235, 0.6)'\n        ]\n      }]\n    };\n  };\n\n  // Prepare chart data for yes/no questions\n  const prepareYesNoChartData = (questionResponses) => {\n    if (!questionResponses || questionResponses.length === 0) {\n      // Datos por defecto si no hay respuestas\n      return {\n        labels: ['Sí', 'No'],\n        datasets: [{\n          data: [0, 0],\n          backgroundColor: ['rgba(75, 192, 192, 0.6)', 'rgba(255, 99, 132, 0.6)']\n        }]\n      };\n    }\n    \n    // Contar respuestas para Sí y No\n    let yesCount = 0;\n    let noCount = 0;\n    \n    questionResponses.forEach(response => {\n      const value = response.value.toLowerCase();\n      if (value === 'sí' || value === 'si' || value === 'yes') {\n        yesCount++;\n      } else if (value === 'no') {\n        noCount++;\n      }\n    });\n    \n    return {\n      labels: ['Sí', 'No'],\n      datasets: [{\n        data: [yesCount, noCount],\n        backgroundColor: ['rgba(75, 192, 192, 0.6)', 'rgba(255, 99, 132, 0.6)']\n      }]\n    };\n  };\n\n  // Get question responses\n  const getQuestionResponses = (questionId) => {\n    // Verificar que responses es un array\n    if (!Array.isArray(responses)) {\n      console.warn('responses no es un array:', responses);\n      return [];\n    }\n    \n    // Filtramos las respuestas que corresponden a esta pregunta\n    return responses\n      .filter(response => response && response.answers)\n      .flatMap(response => {\n        try {\n          const answer = response.answers.find(a => a && a.questionId === questionId);\n          return answer ? [{ value: answer.value }] : [];\n        } catch (error) {\n          console.error('Error procesando respuesta:', error, response);\n          return [];\n        }\n      });\n  };\n\n  // Eliminar encuesta\n  const handleDelete = async () => {\n    if (!window.confirm('¿Está seguro que desea eliminar esta encuesta? Esta acción no se puede deshacer.')) {\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      \n      // Usar el servicio centralizado para eliminar la encuesta\n      await SurveyService.deleteSurvey(surveyId);\n      \n      navigate('/dashboard');\n    } catch (error) {\n      console.error('Error al eliminar la encuesta:', error);\n      setError('Error al eliminar la encuesta: ' + (error.message || 'Error desconocido'));\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"text-center py-8\">\n        <svg className=\"animate-spin h-10 w-10 text-primary-500 mx-auto\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-8\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-16 w-16 text-red-500 mx-auto mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n        </svg>\n        <h2 className=\"text-xl font-bold text-gray-800 mb-2\">{error || 'Error'}</h2>\n        <p className=\"text-gray-600 mb-4\">No se pudo cargar la información de la encuesta.</p>\n        <button \n          onClick={() => navigate('/dashboard')}\n          className=\"btn btn-primary\"\n        >\n          Volver al Dashboard\n        </button>\n      </div>\n    );\n  }\n\n  if (!survey) {\n    return (\n      <div className=\"text-center py-8\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n        </svg>\n        <h2 className=\"text-xl font-bold text-gray-800 mb-2\">Encuesta no encontrada</h2>\n        <p className=\"text-gray-600 mb-4\">La encuesta que estás buscando no existe o ha sido eliminada.</p>\n        <button \n          onClick={() => navigate('/dashboard')}\n          className=\"btn btn-primary\"\n        >\n          Volver al Dashboard\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"flex flex-col md:flex-row justify-between items-start mb-8\">\n        <div>\n          <h1 className=\"text-2xl font-bold\">{survey.title}</h1>\n          <p className=\"text-gray-600\">Creada: {formatDate(survey.createdAt)}</p>\n        </div>\n        <div className=\"mt-4 md:mt-0 flex space-x-2\">\n          <Link \n            to={`/take-survey/${survey._id}`} \n            className=\"btn btn-primary\"\n            target=\"_blank\"\n          >\n            Ver Encuesta\n          </Link>\n          <button \n            onClick={handleDelete}\n            className=\"btn btn-danger\"\n          >\n            Eliminar Encuesta\n          </button>\n          <button className=\"btn btn-outline\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\n            </svg>\n            Compartir\n          </button>\n        </div>\n      </div>\n\n      <div className=\"card mb-6\">\n        <div className=\"flex flex-wrap border-b\">\n          <button \n            className={`px-4 py-2 ${activeTab === 'results' ? 'border-b-2 border-primary-500 text-primary-600 font-medium' : 'text-gray-600'}`}\n            onClick={() => setActiveTab('results')}\n          >\n            Resultados\n          </button>\n          <button \n            className={`px-4 py-2 ${activeTab === 'overview' ? 'border-b-2 border-primary-500 text-primary-600 font-medium' : 'text-gray-600'}`}\n            onClick={() => setActiveTab('overview')}\n          >\n            Información General\n          </button>\n        </div>\n\n        <div className=\"p-4\">\n          {activeTab === 'overview' && (\n            <div>\n              <h2 className=\"text-lg font-medium mb-4\">Información de la Encuesta</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <h3 className=\"font-medium text-gray-700 mb-2\">Descripción</h3>\n                  <p className=\"text-gray-600\">{survey.description || 'Sin descripción'}</p>\n                </div>\n                <div className=\"space-y-2\">\n                  <div>\n                    <h3 className=\"font-medium text-gray-700\">Mensaje de Bienvenida</h3>\n                    <p className=\"text-gray-600\">{survey.welcomeMessage || 'Sin mensaje de bienvenida'}</p>\n                  </div>\n                  <div>\n                    <h3 className=\"font-medium text-gray-700\">Mensaje de Despedida</h3>\n                    <p className=\"text-gray-600\">{survey.farewell || 'Sin mensaje de despedida'}</p>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"mt-6\">\n                <h3 className=\"font-medium text-gray-700 mb-2\">Configuración</h3>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                  <div className=\"bg-gray-50 p-3 rounded\">\n                    <div className=\"text-gray-500 text-sm\">Estado</div>\n                    <div className={`font-medium ${survey.isActive ? 'text-green-600' : 'text-red-600'}`}>\n                      {survey.isActive ? 'Activa' : 'Inactiva'}\n                    </div>\n                  </div>\n                  <div className=\"bg-gray-50 p-3 rounded\">\n                    <div className=\"text-gray-500 text-sm\">Acceso</div>\n                    <div className=\"font-medium\">\n                      {survey.isPublic ? 'Pública' : 'Privada'}\n                    </div>\n                  </div>\n                  <div className=\"bg-gray-50 p-3 rounded\">\n                    <div className=\"text-gray-500 text-sm\">Respuestas Anónimas</div>\n                    <div className=\"font-medium\">\n                      {survey.allowAnonymous ? 'Permitidas' : 'No permitidas'}\n                    </div>\n                  </div>\n                  <div className=\"bg-gray-50 p-3 rounded\">\n                    <div className=\"text-gray-500 text-sm\">Visitas</div>\n                    <div className=\"font-medium\">{survey.viewsCount || 0}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'results' && (\n            <div>\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-lg font-medium\">Resultados</h2>\n                <div className=\"text-gray-600\">\n                  Total de respuestas: <span className=\"font-medium\">{responses.length}</span>\n                </div>\n              </div>\n\n              {responses.length === 0 ? (\n                <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n                  </svg>\n                  <p className=\"text-gray-600 mb-4\">Todavía no hay respuestas para esta encuesta</p>\n                  <div className=\"flex justify-center\">\n                    <Link to={`/take-survey/${survey._id}`} className=\"btn btn-primary\" target=\"_blank\">\n                      Tomar la Encuesta\n                    </Link>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"space-y-8\">\n                  {survey.questions.map((question, index) => {\n                    const questionResponses = getQuestionResponses(question._id);\n                    \n                    return (\n                      <div key={question._id} className=\"card p-4 border border-gray-200\">\n                        <div className=\"flex justify-between mb-4\">\n                          <div>\n                            <div className=\"text-sm text-gray-500\">Pregunta {index + 1}</div>\n                            <div className=\"text-lg font-medium\">{question.text}</div>\n                          </div>\n                          <div className=\"badge badge-primary\">\n                            {questionResponses.length} respuestas\n                          </div>\n                        </div>\n\n                        <div className=\"mt-4\">\n                          {question.type === 'rating' && (\n                            <div className=\"h-64\">\n                              <Bar \n                                data={prepareRatingChartData(questionResponses)} \n                                options={{\n                                  responsive: true,\n                                  maintainAspectRatio: false,\n                                  scales: {\n                                    y: {\n                                      beginAtZero: true,\n                                      ticks: {\n                                        precision: 0\n                                      }\n                                    }\n                                  }\n                                }} \n                              />\n                            </div>\n                          )}\n\n                          {question.type === 'yesno' && (\n                            <div className=\"h-64 w-64 mx-auto\">\n                              <Pie \n                                data={prepareYesNoChartData(questionResponses)}\n                                options={{\n                                  responsive: true,\n                                  maintainAspectRatio: false\n                                }}\n                              />\n                            </div>\n                          )}\n\n                          {question.type === 'open' && (\n                            <div className=\"max-h-64 overflow-y-auto\">\n                              {questionResponses.length > 0 ? (\n                                <ul className=\"space-y-2\">\n                                  {questionResponses.map((response, idx) => (\n                                    <li key={idx} className=\"bg-gray-50 p-3 rounded\">\n                                      \"{response.value}\"\n                                    </li>\n                                  ))}\n                                </ul>\n                              ) : (\n                                <p className=\"text-gray-500 italic text-center\">No hay respuestas para esta pregunta</p>\n                              )}\n                            </div>\n                          )}\n\n                          {question.type === 'single' && (\n                            <div className=\"h-64\">\n                              <Bar \n                                data={{\n                                  labels: question.options,\n                                  datasets: [{\n                                    label: 'Respuestas',\n                                    data: question.options.map(option => {\n                                      return questionResponses.filter(r => r.value === option).length;\n                                    }),\n                                    backgroundColor: 'rgba(54, 162, 235, 0.6)'\n                                  }]\n                                }}\n                                options={{\n                                  responsive: true,\n                                  maintainAspectRatio: false,\n                                  scales: {\n                                    y: {\n                                      beginAtZero: true,\n                                      ticks: {\n                                        precision: 0\n                                      }\n                                    }\n                                  }\n                                }}\n                              />\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SurveyDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}