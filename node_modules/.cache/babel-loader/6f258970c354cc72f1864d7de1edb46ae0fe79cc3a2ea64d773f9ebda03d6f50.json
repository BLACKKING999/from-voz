{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\josep\\\\Documents\\\\Sistema de Encuestas por Voz\\\\client\\\\src\\\\pages\\\\TakeSurvey.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { SurveyService, ResponseService } from '../services/apiService';\n\n// Componentes\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport ErrorMessage from '../components/ErrorMessage';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TakeSurvey = () => {\n  _s();\n  const {\n    surveyId\n  } = useParams();\n  const navigate = useNavigate();\n\n  // Estados\n  const [survey, setSurvey] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [responses, setResponses] = useState([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  const [currentResponse, setCurrentResponse] = useState('');\n\n  // Cargar la encuesta\n  useEffect(() => {\n    const fetchSurvey = async () => {\n      try {\n        const data = await SurveyService.getPublicSurvey(surveyId);\n        console.log('Encuesta cargada:', data);\n        setSurvey(data);\n        // Inicializar respuestas vacías\n        setResponses(new Array(data.questions.length).fill(''));\n      } catch (error) {\n        console.error('Error al cargar la encuesta:', error);\n        setError('No se pudo cargar la encuesta. Verifique que el ID sea correcto y que la encuesta esté activa.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchSurvey();\n  }, [surveyId]);\n\n  // Manejar el cambio de respuesta manual\n  const handleResponseChange = e => {\n    setCurrentResponse(e.target.value);\n  };\n\n  // Guardar la respuesta actual y avanzar a la siguiente pregunta\n  const handleNextQuestion = () => {\n    const updatedResponses = [...responses];\n    updatedResponses[currentQuestionIndex] = currentResponse;\n    setResponses(updatedResponses);\n    if (currentQuestionIndex < survey.questions.length - 1) {\n      setCurrentQuestionIndex(currentQuestionIndex + 1);\n      setCurrentResponse('');\n    } else {\n      setShowConfirmation(true);\n    }\n  };\n\n  // Volver a la pregunta anterior\n  const handlePreviousQuestion = () => {\n    if (currentQuestionIndex > 0) {\n      setCurrentQuestionIndex(currentQuestionIndex - 1);\n      setCurrentResponse(responses[currentQuestionIndex - 1]);\n    }\n  };\n\n  // Enviar todas las respuestas\n  const handleSubmit = async () => {\n    setIsSubmitting(true);\n    try {\n      // Preparar objeto de respuesta\n      const responseData = {\n        surveyId: survey._id,\n        responses: survey.questions.map((question, index) => ({\n          questionId: question._id,\n          questionText: question.text,\n          responseText: responses[index] || '',\n          questionType: question.type\n        }))\n      };\n\n      // Enviar respuesta a la API\n      await ResponseService.submitResponse(responseData);\n\n      // Redirigir a página de agradecimiento\n      navigate(`/thank-you`, {\n        state: {\n          message: survey.farewell || '¡Gracias por completar la encuesta!'\n        }\n      });\n    } catch (error) {\n      console.error('Error al enviar respuestas:', error);\n      setError('Ocurrió un error al enviar tus respuestas. Por favor, intenta nuevamente.');\n      setIsSubmitting(false);\n    }\n  };\n\n  // Renderizar pantalla de carga\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Renderizar mensaje de error\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      message: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Si no hay encuesta\n  if (!survey) {\n    return /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      message: \"No se encontr\\xF3 la encuesta solicitada.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Obtener la pregunta actual\n  const currentQuestion = survey.questions[currentQuestionIndex];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-3xl mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold mb-2\",\n        children: survey.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: survey.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), currentQuestionIndex === 0 && survey.welcomeMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-4 bg-blue-50 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: survey.welcomeMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-gray-200 rounded-full h-2.5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-600 h-2.5 rounded-full\",\n          style: {\n            width: `${(currentQuestionIndex + 1) / survey.questions.length * 100}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-right text-sm mt-1\",\n        children: [\"Pregunta \", currentQuestionIndex + 1, \" de \", survey.questions.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), showConfirmation ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-lg p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-4\",\n        children: \"Confirmar env\\xEDo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-4\",\n        children: \"\\xBFEst\\xE1s seguro de que deseas enviar tus respuestas?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold mb-2\",\n          children: \"Resumen de respuestas:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), survey.questions.map((question, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: [index + 1, \". \", question.text]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-700 pl-4\",\n            children: responses[index] || \"(Sin respuesta)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 17\n          }, this)]\n        }, question._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowConfirmation(false),\n          className: \"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300\",\n          disabled: isSubmitting,\n          children: \"Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          className: \"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\",\n          disabled: isSubmitting,\n          children: isSubmitting ? 'Enviando...' : 'Confirmar envío'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-lg p-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold mb-4\",\n          children: currentQuestion.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), currentQuestion.type === 'multiple_choice' && currentQuestion.options && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mb-2\",\n            children: \"Opciones:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc pl-5\",\n            children: currentQuestion.options.map((option, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"mb-1\",\n              children: option\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Tu respuesta:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: currentResponse,\n            onChange: handleResponseChange,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\",\n            rows: \"3\",\n            placeholder: \"Escribe tu respuesta...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePreviousQuestion,\n          disabled: currentQuestionIndex === 0,\n          className: `px-4 py-2 rounded ${currentQuestionIndex === 0 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-gray-200 text-gray-800 hover:bg-gray-300'}`,\n          children: \"Anterior\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNextQuestion,\n          className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",\n          children: currentQuestionIndex < survey.questions.length - 1 ? 'Siguiente' : 'Finalizar'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n};\n_s(TakeSurvey, \"e5/cCXjkqfp1Q6Fzwl6gesF/Gmw=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = TakeSurvey;\nexport default TakeSurvey;\nvar _c;\n$RefreshReg$(_c, \"TakeSurvey\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","SurveyService","ResponseService","LoadingSpinner","ErrorMessage","jsxDEV","_jsxDEV","Fragment","_Fragment","TakeSurvey","_s","surveyId","navigate","survey","setSurvey","loading","setLoading","error","setError","currentQuestionIndex","setCurrentQuestionIndex","responses","setResponses","isSubmitting","setIsSubmitting","showConfirmation","setShowConfirmation","currentResponse","setCurrentResponse","fetchSurvey","data","getPublicSurvey","console","log","Array","questions","length","fill","handleResponseChange","e","target","value","handleNextQuestion","updatedResponses","handlePreviousQuestion","handleSubmit","responseData","_id","map","question","index","questionId","questionText","text","responseText","questionType","type","submitResponse","state","message","farewell","fileName","_jsxFileName","lineNumber","columnNumber","currentQuestion","className","children","title","description","welcomeMessage","style","width","onClick","disabled","options","option","idx","onChange","rows","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/josep/Documents/Sistema de Encuestas por Voz/client/src/pages/TakeSurvey.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { SurveyService, ResponseService } from '../services/apiService';\r\n\r\n// Componentes\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport ErrorMessage from '../components/ErrorMessage';\r\n\r\nconst TakeSurvey = () => {\r\n  const { surveyId } = useParams();\r\n  const navigate = useNavigate();\r\n  \r\n  // Estados\r\n  const [survey, setSurvey] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n  const [responses, setResponses] = useState([]);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n  const [currentResponse, setCurrentResponse] = useState('');\r\n  \r\n  // Cargar la encuesta\r\n  useEffect(() => {\r\n    const fetchSurvey = async () => {\r\n      try {\r\n        const data = await SurveyService.getPublicSurvey(surveyId);\r\n        console.log('Encuesta cargada:', data);\r\n        setSurvey(data);\r\n        // Inicializar respuestas vacías\r\n        setResponses(new Array(data.questions.length).fill(''));\r\n      } catch (error) {\r\n        console.error('Error al cargar la encuesta:', error);\r\n        setError('No se pudo cargar la encuesta. Verifique que el ID sea correcto y que la encuesta esté activa.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchSurvey();\r\n  }, [surveyId]);\r\n  \r\n  // Manejar el cambio de respuesta manual\r\n  const handleResponseChange = (e) => {\r\n    setCurrentResponse(e.target.value);\r\n  };\r\n  \r\n  // Guardar la respuesta actual y avanzar a la siguiente pregunta\r\n  const handleNextQuestion = () => {\r\n    const updatedResponses = [...responses];\r\n    updatedResponses[currentQuestionIndex] = currentResponse;\r\n    setResponses(updatedResponses);\r\n    \r\n    if (currentQuestionIndex < survey.questions.length - 1) {\r\n      setCurrentQuestionIndex(currentQuestionIndex + 1);\r\n      setCurrentResponse('');\r\n    } else {\r\n      setShowConfirmation(true);\r\n    }\r\n  };\r\n  \r\n  // Volver a la pregunta anterior\r\n  const handlePreviousQuestion = () => {\r\n    if (currentQuestionIndex > 0) {\r\n      setCurrentQuestionIndex(currentQuestionIndex - 1);\r\n      setCurrentResponse(responses[currentQuestionIndex - 1]);\r\n    }\r\n  };\r\n  \r\n  // Enviar todas las respuestas\r\n  const handleSubmit = async () => {\r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n      // Preparar objeto de respuesta\r\n      const responseData = {\r\n        surveyId: survey._id,\r\n        responses: survey.questions.map((question, index) => ({\r\n          questionId: question._id,\r\n          questionText: question.text,\r\n          responseText: responses[index] || '',\r\n          questionType: question.type\r\n        }))\r\n      };\r\n      \r\n      // Enviar respuesta a la API\r\n      await ResponseService.submitResponse(responseData);\r\n      \r\n      // Redirigir a página de agradecimiento\r\n      navigate(`/thank-you`, { \r\n        state: { \r\n          message: survey.farewell || '¡Gracias por completar la encuesta!' \r\n        } \r\n      });\r\n    } catch (error) {\r\n      console.error('Error al enviar respuestas:', error);\r\n      setError('Ocurrió un error al enviar tus respuestas. Por favor, intenta nuevamente.');\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n  \r\n  // Renderizar pantalla de carga\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n  \r\n  // Renderizar mensaje de error\r\n  if (error) {\r\n    return <ErrorMessage message={error} />;\r\n  }\r\n  \r\n  // Si no hay encuesta\r\n  if (!survey) {\r\n    return <ErrorMessage message=\"No se encontró la encuesta solicitada.\" />;\r\n  }\r\n  \r\n  // Obtener la pregunta actual\r\n  const currentQuestion = survey.questions[currentQuestionIndex];\r\n  \r\n  return (\r\n    <div className=\"max-w-3xl mx-auto p-4\">\r\n      {/* Encabezado de la encuesta */}\r\n      <div className=\"mb-8 text-center\">\r\n        <h1 className=\"text-3xl font-bold mb-2\">{survey.title}</h1>\r\n        <p className=\"text-gray-600\">{survey.description}</p>\r\n        {currentQuestionIndex === 0 && survey.welcomeMessage && (\r\n          <div className=\"mt-4 p-4 bg-blue-50 rounded-lg\">\r\n            <p>{survey.welcomeMessage}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Progreso */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n          <div \r\n            className=\"bg-blue-600 h-2.5 rounded-full\" \r\n            style={{ width: `${((currentQuestionIndex + 1) / survey.questions.length) * 100}%` }}\r\n          ></div>\r\n        </div>\r\n        <p className=\"text-right text-sm mt-1\">\r\n          Pregunta {currentQuestionIndex + 1} de {survey.questions.length}\r\n        </p>\r\n      </div>\r\n      \r\n      {/* Pantalla de confirmación */}\r\n      {showConfirmation ? (\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <h2 className=\"text-2xl font-bold mb-4\">Confirmar envío</h2>\r\n          <p className=\"mb-4\">¿Estás seguro de que deseas enviar tus respuestas?</p>\r\n          \r\n          <div className=\"mb-6\">\r\n            <h3 className=\"font-bold mb-2\">Resumen de respuestas:</h3>\r\n            {survey.questions.map((question, index) => (\r\n              <div key={question._id} className=\"mb-3\">\r\n                <p className=\"font-medium\">{index + 1}. {question.text}</p>\r\n                <p className=\"text-gray-700 pl-4\">{responses[index] || \"(Sin respuesta)\"}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          <div className=\"flex justify-between\">\r\n            <button\r\n              onClick={() => setShowConfirmation(false)}\r\n              className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300\"\r\n              disabled={isSubmitting}\r\n            >\r\n              Volver\r\n            </button>\r\n            <button\r\n              onClick={handleSubmit}\r\n              className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\"\r\n              disabled={isSubmitting}\r\n            >\r\n              {isSubmitting ? 'Enviando...' : 'Confirmar envío'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Pregunta actual */}\r\n          <div className=\"bg-white rounded-lg shadow-lg p-6 mb-6\">\r\n            <h2 className=\"text-xl font-bold mb-4\">{currentQuestion.text}</h2>\r\n            \r\n            {/* Opciones para preguntas de tipo opción */}\r\n            {currentQuestion.type === 'multiple_choice' && currentQuestion.options && (\r\n              <div className=\"mb-4\">\r\n                <p className=\"text-sm text-gray-600 mb-2\">Opciones:</p>\r\n                <ul className=\"list-disc pl-5\">\r\n                  {currentQuestion.options.map((option, idx) => (\r\n                    <li key={idx} className=\"mb-1\">{option}</li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Área de respuesta */}\r\n            <div className=\"mt-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Tu respuesta:\r\n              </label>\r\n              <textarea\r\n                value={currentResponse}\r\n                onChange={handleResponseChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\r\n                rows=\"3\"\r\n                placeholder=\"Escribe tu respuesta...\"\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Botones de navegación */}\r\n          <div className=\"flex justify-between\">\r\n            <button\r\n              onClick={handlePreviousQuestion}\r\n              disabled={currentQuestionIndex === 0}\r\n              className={`px-4 py-2 rounded ${\r\n                currentQuestionIndex === 0\r\n                  ? 'bg-gray-200 text-gray-400 cursor-not-allowed'\r\n                  : 'bg-gray-200 text-gray-800 hover:bg-gray-300'\r\n              }`}\r\n            >\r\n              Anterior\r\n            </button>\r\n            \r\n            <button\r\n              onClick={handleNextQuestion}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n            >\r\n              {currentQuestionIndex < survey.questions.length - 1 ? 'Siguiente' : 'Finalizar'}\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TakeSurvey; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}